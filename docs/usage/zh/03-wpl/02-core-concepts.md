# WPL æ ¸å¿ƒæ¦‚å¿µ

æœ¬æ–‡æ¡£å¸®åŠ©ä½ ç†è§£ WPL çš„è®¾è®¡ç†å¿µå’Œæ ¸å¿ƒæ¦‚å¿µï¼Œå»ºç«‹æ­£ç¡®çš„æ€ç»´æ¨¡å‹ã€‚

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### å¿«é€Ÿå¯¼èˆª

| ä¸»é¢˜ | å†…å®¹ |
|------|------|
| [**è®¾è®¡ç†å¿µ**](#wpl-è®¾è®¡ç†å¿µ) | ä¸ºä»€ä¹ˆéœ€è¦ WPLã€æ ¸å¿ƒæ€æƒ³ã€å£°æ˜å¼è®¾è®¡ |
| [**ç±»å‹ç³»ç»Ÿ**](#ç±»å‹ç³»ç»Ÿ) | ç±»å‹çš„ä½œç”¨ã€ç±»å‹å±‚æ¬¡ã€ç±»å‹ç»„åˆ |
| [**åŒ¹é…è¯­ä¹‰**](#åŒ¹é…è¯­ä¹‰) | seq é¡ºåºã€alt æ‹©ä¸€ã€opt å¯é€‰ã€some_of é‡å¤ |
| [**ç®¡é“ç³»ç»Ÿ**](#ç®¡é“ç³»ç»Ÿ) | é¢„å¤„ç†ç®¡é“ã€å­—æ®µçº§ç®¡é“ã€ä¸¤è€…åŒºåˆ« |
| [**å­å­—æ®µä¸åµŒå¥—**](#å­å­—æ®µä¸åµŒå¥—) | JSON å­å­—æ®µã€KV å­å­—æ®µã€æ•°ç»„ |
| [**åˆ†éš”ç¬¦ä¼˜å…ˆçº§**](#åˆ†éš”ç¬¦ä¼˜å…ˆçº§) | ä¼˜å…ˆçº§è§„åˆ™ã€åˆ†éš”ç¬¦ç±»å‹ã€å®é™…åº”ç”¨ |
| [**è®¾è®¡åŸåˆ™**](#è®¾è®¡åŸåˆ™æ€»ç»“) | å£°æ˜å¼ã€ç±»å‹å®‰å…¨ã€ç»„åˆæ€§ã€æ˜ç¡®æ€§ |
| [**å¸¸è§è¯¯è§£**](#å¸¸è§è¯¯è§£) | WPL vs æ­£åˆ™ã€å­—æ®µè¿ç»­æ€§ã€æ ¼å¼çµæ´»æ€§ |

---

## WPL è®¾è®¡ç†å¿µ

### ä¸ºä»€ä¹ˆéœ€è¦ WPLï¼Ÿ

**é—®é¢˜ï¼š** å¦‚ä½•ä»éç»“æ„åŒ–æ–‡æœ¬ä¸­æå–ç»“æ„åŒ–æ•°æ®ï¼Ÿ

```
è¾“å…¥ï¼ˆæ–‡æœ¬ï¼‰ï¼š192.168.1.1 - - [06/Aug/2019:12:12:19 +0800] "GET /index.html" 200
è¾“å‡ºï¼ˆç»“æ„ï¼‰ï¼š
  client_ip: 192.168.1.1
  time: 2019-08-06 12:12:19
  request: GET /index.html
  status: 200
```

**ä¼ ç»Ÿæ–¹æ³•çš„é—®é¢˜ï¼š**
- æ­£åˆ™è¡¨è¾¾å¼ï¼šéš¾å†™ã€éš¾è¯»ã€éš¾ç»´æŠ¤
- æ‰‹å†™è§£æå™¨ï¼šä»£ç å†—é•¿ã€å®¹æ˜“å‡ºé”™
- å›ºå®šæ ¼å¼è§£æï¼šä¸å¤Ÿçµæ´»

**WPL çš„è§£å†³æ–¹æ¡ˆï¼š**
- **å£°æ˜å¼**ï¼šæè¿°"æ˜¯ä»€ä¹ˆ"ï¼Œè€Œé"æ€ä¹ˆåš"
- **ç±»å‹å®‰å…¨**ï¼šè‡ªåŠ¨éªŒè¯å’Œè½¬æ¢
- **ç»„åˆæ€§**ï¼šå°çš„è§„åˆ™ç»„åˆæˆå¤æ‚è§„åˆ™

---

### æ ¸å¿ƒæ€æƒ³ï¼šè§„åˆ™ = æ¨¡å¼åŒ¹é… + å­—æ®µæå–

```wpl
package demo {
  rule example {
    (ip:client, digit:status, time:ts)
  }
}
```

**è¿™ä¸ªè§„åˆ™è¡¨è¾¾ï¼š**
1. **æ¨¡å¼**ï¼šæ•°æ®æ ¼å¼æ˜¯"IP æ•°å­— æ—¶é—´"
2. **æå–**ï¼šæå– 3 ä¸ªå­—æ®µï¼Œåˆ†åˆ«å‘½åä¸º clientã€statusã€ts
3. **éªŒè¯**ï¼šè‡ªåŠ¨éªŒè¯ IP æ ¼å¼ã€æ•°å­—æ ¼å¼ã€æ—¶é—´æ ¼å¼
4. **è½¬æ¢**ï¼šè‡ªåŠ¨è½¬æ¢ä¸ºå¯¹åº”ç±»å‹

---

## ç±»å‹ç³»ç»Ÿ

### ç±»å‹çš„ä½œç”¨

ç±»å‹åœ¨ WPL ä¸­æœ‰ä¸‰ä¸ªä½œç”¨ï¼š

1. **éªŒè¯**ï¼šç¡®ä¿æ•°æ®ç¬¦åˆé¢„æœŸæ ¼å¼
2. **è½¬æ¢**ï¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼
3. **è¯­ä¹‰**ï¼šè¡¨è¾¾æ•°æ®çš„å«ä¹‰

**ç¤ºä¾‹ï¼š**

```wpl
# è¾“å…¥ï¼š06/Aug/2019:12:12:19 +0800
time/clf:access_time

# ç±»å‹ time/clf åšäº† 3 ä»¶äº‹ï¼š
# 1. éªŒè¯ï¼šæ˜¯å¦ç¬¦åˆ CLF æ—¶é—´æ ¼å¼
# 2. è½¬æ¢ï¼šè½¬æ¢ä¸ºæ ‡å‡†æ—¶é—´æ ¼å¼ 2019-08-06 12:12:19
# 3. è¯­ä¹‰ï¼šè¡¨è¾¾"è¿™æ˜¯è®¿é—®æ—¶é—´"
```

---

### ç±»å‹çš„å±‚æ¬¡

```
åŸºç¡€ç±»å‹ â”€â”€â”€â”€â†’ ç»“æ„åŒ–ç±»å‹ â”€â”€â”€â”€â†’ åè®®ç±»å‹
   â†“              â†“               â†“
 digit          json          http/request
 chars           kvarr        http/status
  ip           array          time/clf
 time           obj
```

**åŸºç¡€ç±»å‹**ï¼šåŸå­æ•°æ®
- `digit` - æ•´æ•°
- `chars` - å­—ç¬¦ä¸²
- `ip` - IP åœ°å€
- `time` - æ—¶é—´

**ç»“æ„åŒ–ç±»å‹**ï¼šå¤åˆæ•°æ®
- `json` - JSON å¯¹è±¡ï¼ˆåŒ…å«å¤šä¸ªå­—æ®µï¼‰
- `kvarr` - é”®å€¼å¯¹
- `array` - æ•°ç»„

**åè®®ç±»å‹**ï¼šé¢†åŸŸç‰¹å®šæ ¼å¼
- `http/request` - HTTP è¯·æ±‚è¡Œ
- `http/status` - HTTP çŠ¶æ€ç 
- `time/clf` - CLF æ—¶é—´æ ¼å¼

---

### ç±»å‹ç»„åˆç¤ºä¾‹

```wpl
# ç®€å•ç»„åˆ
(digit, ip, time)

# åµŒå¥—ç»„åˆ
(digit, json(chars@name, digit@age), time)

# æ•°ç»„ç»„åˆ
array/digit              # æ•°å­—æ•°ç»„
array/array/chars        # äºŒç»´å­—ç¬¦ä¸²æ•°ç»„
```

---

## åŒ¹é…è¯­ä¹‰

WPL æä¾› 4 ç§åŒ¹é…è¯­ä¹‰ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯éœ€æ±‚ã€‚

### seqï¼ˆé¡ºåºåŒ¹é…ï¼‰- é»˜è®¤

**è¯­ä¹‰**ï¼šæŒ‰é¡ºåºä¾æ¬¡åŒ¹é…æ¯ä¸ªå­—æ®µ

```wpl
# æ˜¾å¼å†™æ³•
seq(ip, digit, time)

# éšå¼å†™æ³•ï¼ˆé»˜è®¤ï¼‰
(ip, digit, time)
```

**åŒ¹é…è¿‡ç¨‹ï¼š**
```
è¾“å…¥ï¼š192.168.1.1 200 2023-01-01
      â†“           â†“   â†“
     ip         digit time
```

**ä½•æ—¶ä½¿ç”¨ï¼š** å­—æ®µé¡ºåºå›ºå®šï¼ˆ90% çš„åœºæ™¯ï¼‰

---

### altï¼ˆæ‹©ä¸€åŒ¹é…ï¼‰

**è¯­ä¹‰**ï¼šå°è¯•å¤šç§ç±»å‹ï¼ŒåŒ¹é…å…¶ä¸­ä¸€ä¸ª

```wpl
alt(ip, digit)
```

**åŒ¹é…è¿‡ç¨‹ï¼š**
```
è¾“å…¥ï¼š192.168.1.1
å°è¯•ï¼šip âœ“ â†’ æˆåŠŸï¼Œè¿”å› ip
      digit âœ— â†’ ä¸å°è¯•

è¾“å…¥ï¼š12345
å°è¯•ï¼šip âœ— â†’ å¤±è´¥
      digit âœ“ â†’ æˆåŠŸï¼Œè¿”å› digit
```

**ä½•æ—¶ä½¿ç”¨ï¼š** åŒä¸€ä½ç½®å¯èƒ½æ˜¯ä¸åŒç±»å‹

**ç¤ºä¾‹åœºæ™¯ï¼š**
```wpl
# æ—¥å¿—ä¸­ user_id å¯èƒ½æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²
(time, alt(digit, chars):user_id, chars:action)
```

---

### optï¼ˆå¯é€‰åŒ¹é…ï¼‰

**è¯­ä¹‰**ï¼šå­—æ®µå¯é€‰ï¼Œå¤±è´¥ä¸æŠ¥é”™

```wpl
opt(chars)
```

**åŒ¹é…è¿‡ç¨‹ï¼š**
```
è¾“å…¥ï¼šæœ‰å†…å®¹ â†’ å°è¯•åŒ¹é…ï¼ŒæˆåŠŸåˆ™æå–
è¾“å…¥ï¼šæ— å†…å®¹ â†’ è·³è¿‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªå­—æ®µ
```

**ä½•æ—¶ä½¿ç”¨ï¼š** æŸäº›å­—æ®µå¯èƒ½ä¸å­˜åœ¨

**ç¤ºä¾‹åœºæ™¯ï¼š**
```wpl
# HTTP æ—¥å¿—ä¸­ referer å¯èƒ½ä¸ºç©º
(ip, time, http/request, digit, opt(chars):referer)
```

---

### some_ofï¼ˆå°½å¯èƒ½å¤šï¼‰

**è¯­ä¹‰**ï¼šå¾ªç¯åŒ¹é…ï¼Œå°½å¯èƒ½å¤šåœ°æ¶ˆè´¹å­—æ®µ

```wpl
some_of(kvarr, ip, digit)
```

**åŒ¹é…è¿‡ç¨‹ï¼š**
```
è¾“å…¥ï¼šk1=v1 192.168.1.1 200 k2=v2 300

å¾ªç¯ 1ï¼šå°è¯• kvarr âœ“ â†’ æå– k1=v1
å¾ªç¯ 2ï¼šå°è¯• kvarr âœ—, å°è¯• ip âœ“ â†’ æå– 192.168.1.1
å¾ªç¯ 3ï¼šå°è¯• kvarr âœ—, å°è¯• ip âœ—, å°è¯• digit âœ“ â†’ æå– 200
å¾ªç¯ 4ï¼šå°è¯• kvarr âœ“ â†’ æå– k2=v2
å¾ªç¯ 5ï¼šå°è¯• kvarr âœ—, å°è¯• ip âœ—, å°è¯• digit âœ“ â†’ æå– 300
å¾ªç¯ 6ï¼šå…¨éƒ¨å¤±è´¥ â†’ åœæ­¢
```

**ä½•æ—¶ä½¿ç”¨ï¼š** ä¸ç¡®å®šæ•°é‡å’Œé¡ºåºçš„æ··åˆå­—æ®µ

---

### åŒ¹é…è¯­ä¹‰å¯¹æ¯”

| è¯­ä¹‰ | ç”¨é€” | ç¤ºä¾‹ | åŒ¹é…æ¬¡æ•° |
|------|------|------|---------|
| `seq` | é¡ºåºå›ºå®š | `(ip, digit, time)` | æ¯ä¸ªå­—æ®µ 1 æ¬¡ |
| `alt` | ç±»å‹ä¸å®š | `alt(ip, digit)` | å…¶ä¸­ 1 ä¸ª |
| `opt` | å¯é€‰å­—æ®µ | `opt(chars)` | 0 æˆ– 1 æ¬¡ |
| `some_of` | æ··åˆé‡å¤ | `some_of(kvarr, ip)` | å°½å¯èƒ½å¤š |

---

## ç®¡é“ç³»ç»Ÿ

WPL çš„ç®¡é“ç³»ç»Ÿåˆ†ä¸ºä¸¤å±‚ï¼š**é¢„å¤„ç†ç®¡é“**ï¼ˆæ•´è¡Œçº§ï¼‰å’Œ**å­—æ®µçº§ç®¡é“**ï¼ˆå­—æ®µçº§ï¼‰ã€‚

### é¢„å¤„ç†ç®¡é“ï¼ˆæ•´è¡Œçº§ï¼‰

**è¯­æ³•ï¼š**
```wpl
|step1|step2|
(å­—æ®µåˆ—è¡¨)
```

**ä½œç”¨åŸŸï¼š** æ•´è¡ŒåŸå§‹è¾“å…¥

**æ‰§è¡Œæ—¶æœºï¼š** åœ¨å­—æ®µè§£æä¹‹å‰

**å¸¸ç”¨åœºæ™¯ï¼š**
```wpl
# Base64 è§£ç 
|decode/base64|
(json)

# å¤šæ­¥å¤„ç†
|decode/base64|unquote/unescape|
(json(chars@path))
```

**ä¸ºä»€ä¹ˆéœ€è¦é¢„å¤„ç†ç®¡é“ï¼Ÿ**
- æŸäº›æ—¥å¿—æ•´è¡Œéƒ½æ˜¯ Base64 ç¼–ç ï¼ˆå¦‚åä¸ºé˜²ç«å¢™ï¼‰
- éœ€è¦å…ˆè§£ç ï¼Œæ‰èƒ½è¿›è¡Œå­—æ®µè§£æ
- é¢„å¤„ç†ä¸€æ¬¡ï¼Œæ‰€æœ‰å­—æ®µéƒ½å—ç›Š

---

### å­—æ®µçº§ç®¡é“ï¼ˆå­—æ®µçº§ï¼‰

**è¯­æ³•ï¼š**
```wpl
(fields) |function1| |function2|
```

**ä½œç”¨åŸŸï¼š** è§£æåçš„å­—æ®µé›†åˆ

**æ‰§è¡Œæ—¶æœºï¼š** åœ¨å­—æ®µè§£æä¹‹å

**å¸¸ç”¨åœºæ™¯ï¼š**
```wpl
# éªŒè¯å­—æ®µ
(json |f_has(status) |f_digit_in(status, [200, 201]))

# è½¬æ¢å­—æ®µ
(json(chars@message) |take(message) |json_unescape())
```

**ä¸ºä»€ä¹ˆéœ€è¦å­—æ®µçº§ç®¡é“ï¼Ÿ**
- éœ€è¦éªŒè¯æŸä¸ªå­—æ®µæ˜¯å¦å­˜åœ¨
- éœ€è¦éªŒè¯å­—æ®µå€¼æ˜¯å¦ç¬¦åˆæ¡ä»¶
- éœ€è¦å¯¹ç‰¹å®šå­—æ®µè¿›è¡Œè½¬æ¢

---

### ä¸¤ç§ç®¡é“çš„åŒºåˆ«

| ç‰¹æ€§ | é¢„å¤„ç†ç®¡é“ | å­—æ®µçº§ç®¡é“ |
|------|-----------|-----------|
| ä½œç”¨åŸŸ | æ•´è¡Œè¾“å…¥ | è§£æåå­—æ®µ |
| æ‰§è¡Œæ—¶æœº | è§£æå‰ | è§£æå |
| è¯­æ³• | `\|step\|` | `\|function()\|` |
| å…¸å‹ç”¨é€” | è§£ç ã€åè½¬ä¹‰ | éªŒè¯ã€è½¬æ¢ |

**ç¤ºä¾‹å¯¹æ¯”ï¼š**
```wpl
# é¢„å¤„ç†ç®¡é“ï¼šæ•´è¡Œ Base64 è§£ç 
|decode/base64|
(json(chars@user))

# å­—æ®µçº§ç®¡é“ï¼šå•å­—æ®µ Base64 è§£ç 
(json(chars@payload) |take(payload) |base64_decode())
```

---

## å­å­—æ®µä¸åµŒå¥—

### ä¸ºä»€ä¹ˆéœ€è¦å­å­—æ®µï¼Ÿ

**é—®é¢˜ï¼š** JSON/KV ç­‰ç»“æ„åŒ–æ•°æ®åŒ…å«å¤šä¸ªå­—æ®µï¼Œå¦‚ä½•æå–ï¼Ÿ

```json
{"user":"admin","code":200,"data":{"result":"ok"}}
```

**è§£å†³æ–¹æ¡ˆï¼š** ä½¿ç”¨å­å­—æ®µè¯­æ³•

```wpl
json(
  chars@user,              # æå– user å­—æ®µ
  digit@code,              # æå– code å­—æ®µ
  chars@data/result        # æå– data.result å­—æ®µ
)
```

---

### JSON å­å­—æ®µ

**åŸºæœ¬è¯­æ³•ï¼š**
```wpl
json(type@key, type@key, ...)
```

**ç¤ºä¾‹ï¼š**
```wpl
# æå–æŒ‡å®šå­—æ®µ
json(chars@name, digit@age)

# åµŒå¥—è·¯å¾„
json(chars@user/name, digit@user/age)

# å¯é€‰å­—æ®µ
json(chars@name, opt(chars)@email)
```

**è¾“å…¥ï¼š**
```json
{"user":{"name":"Alice","age":25},"status":"active"}
```

**è¾“å‡ºï¼š**
```
user/name: Alice
user/age: 25
status: active
```

---

### KV å­å­—æ®µ

**åŸºæœ¬è¯­æ³•ï¼š**
```wpl
kvarr(type@key, type@key, ...)
```

**ç¤ºä¾‹ï¼š**
```wpl
kvarr(chars@hostname, digit@port, opt(chars)@user)
```

**è¾“å…¥ï¼š**
```
hostname=server1 port=3306 user=root
```

**è¾“å‡ºï¼š**
```
hostname: server1
port: 3306
user: root
```

---

### æ•°ç»„

**åŸºæœ¬è¯­æ³•ï¼š**
```wpl
array[/subtype]
```

**ç¤ºä¾‹ï¼š**
```wpl
array/digit:nums          # [1,2,3] â†’ nums/[0]=1, nums/[1]=2, nums/[2]=3
array/chars:items         # ["a","b"] â†’ items/[0]="a", items/[1]="b"
array/array/digit         # [[1,2],[3,4]] â†’ åµŒå¥—æ•°ç»„
```

---

## åˆ†éš”ç¬¦ä¼˜å…ˆçº§

### ä¸ºä»€ä¹ˆéœ€è¦ä¼˜å…ˆçº§ï¼Ÿ

**é—®é¢˜ï¼š** ä¸åŒæ¥æºçš„åˆ†éš”ç¬¦å¯èƒ½å†²çª

```wpl
# å­—æ®µçº§åˆ†éš”ç¬¦
digit\,

# ç»„çº§åˆ†éš”ç¬¦
(digit, ip)\;

# ä¸Šæ¸¸åˆ†éš”ç¬¦ï¼ˆæ¥è‡ª json/kvarr ç­‰ï¼‰
```

**è§£å†³æ–¹æ¡ˆï¼š** å®šä¹‰ä¼˜å…ˆçº§è§„åˆ™

---

### ä¼˜å…ˆçº§è§„åˆ™

```
å­—æ®µçº§(3) > ç»„çº§(2) > ä¸Šæ¸¸(1)
```

**ç¤ºä¾‹ï¼š**
```wpl
# å­—æ®µçº§è¦†ç›–ç»„çº§
(digit\;, ip, chars)\,
# digit ç”¨åˆ†å·ï¼Œip å’Œ chars ç”¨é€—å·

# ç»„çº§è¦†ç›–ä¸Šæ¸¸
json(...) (digit, ip)\;
# å³ä½¿ json å†…éƒ¨é»˜è®¤ç©ºæ ¼ï¼Œç»„çº§åˆ†å·ç”Ÿæ•ˆ
```

---

### åˆ†éš”ç¬¦ç±»å‹

| åˆ†éš”ç¬¦ | å†™æ³• | è¯´æ˜ |
|--------|------|------|
| é€—å· | `\,` | æœ€å¸¸ç”¨ |
| åˆ†å· | `\;` | å¸¸ç”¨äº KV |
| ç©ºæ ¼ | `\s` | é»˜è®¤ |
| å†’å· | `\:` | é”®å€¼åˆ†éš” |
| è¡Œå°¾ | `\0` | è¯»åˆ°è¡Œå°¾ |

---

### å®é™…åº”ç”¨

**åœºæ™¯ 1ï¼šä¸åŒå­—æ®µä¸åŒåˆ†éš”ç¬¦**
```wpl
(digit\;, ip\,, chars\s)
# digit ç”¨åˆ†å·ï¼Œip ç”¨é€—å·ï¼Œchars ç”¨ç©ºæ ¼
```

**åœºæ™¯ 2ï¼šç»„çº§ç»Ÿä¸€åˆ†éš”ç¬¦**
```wpl
(digit, ip, time)\,
# æ‰€æœ‰å­—æ®µéƒ½ç”¨é€—å·
```

**åœºæ™¯ 3ï¼šæœ€åä¸€ä¸ªå­—æ®µè¯»åˆ°è¡Œå°¾**
```wpl
(digit, ip, chars\0)
# chars è¯»å–æ‰€æœ‰å‰©ä½™å†…å®¹
```

---

## è®¾è®¡åŸåˆ™æ€»ç»“

### 1. å£°æ˜å¼ä¼˜äºå‘½ä»¤å¼

```wpl
# WPLï¼ˆå£°æ˜å¼ï¼‰
(ip, digit, time)

# å‘½ä»¤å¼ä¼ªä»£ç 
ip = parse_ip(input)
digit = parse_digit(input)
time = parse_time(input)
```

---

### 2. ç±»å‹å®‰å…¨ä¼˜äºå­—ç¬¦ä¸²åŒ¹é…

```wpl
# å¸¦ç±»å‹éªŒè¯
ip:client_ip              # è‡ªåŠ¨éªŒè¯ IP æ ¼å¼

# çº¯å­—ç¬¦ä¸²
chars:client_ip           # ä¸éªŒè¯æ ¼å¼
```

---

### 3. ç»„åˆä¼˜äºé‡å¤

```wpl
# å¯ç»„åˆ
rule base_fields { (ip, time) }
rule extended { (ip, time, json) }   # å¤ç”¨åŸºç¡€éƒ¨åˆ†

# ä¸å¯ç»„åˆ
rule log1 { (ip, time, chars) }
rule log2 { (ip, time, json) }       # é‡å¤ ip, time
```

---

### 4. æ˜ç¡®ä¼˜äºéšå«

```wpl
# æ˜ç¡®æŒ‡å®š
time/clf<[,]>:access_time

# éšå«ï¼ˆå¯èƒ½å¤±è´¥ï¼‰
time:access_time
```

---

## å¸¸è§è¯¯è§£

### è¯¯è§£ 1ï¼šWPL æ˜¯æ­£åˆ™è¡¨è¾¾å¼

**é”™è¯¯è®¤çŸ¥ï¼š** WPL å’Œæ­£åˆ™è¡¨è¾¾å¼ç±»ä¼¼

**æ­£ç¡®ç†è§£ï¼š** WPL æ˜¯ç±»å‹åŒ–çš„æ¨¡å¼åŒ¹é…è¯­è¨€
- æ­£åˆ™ï¼šå­—ç¬¦çº§åŒ¹é…
- WPLï¼šç±»å‹çº§åŒ¹é… + éªŒè¯ + è½¬æ¢

---

### è¯¯è§£ 2ï¼šæ‰€æœ‰å­—æ®µå¿…é¡»è¿ç»­

**é”™è¯¯è®¤çŸ¥ï¼š** å­—æ®µä¹‹é—´ä¸èƒ½æœ‰ç©ºéš™

**æ­£ç¡®ç†è§£ï¼š** ä½¿ç”¨ `_` è·³è¿‡ä¸éœ€è¦çš„å­—æ®µ
```wpl
(ip, 3*_, time)           # è·³è¿‡ 3 ä¸ªå­—æ®µ
```

---

### è¯¯è§£ 3ï¼šåªèƒ½è§£æå›ºå®šæ ¼å¼

**é”™è¯¯è®¤çŸ¥ï¼š** WPL åªèƒ½è§£æå›ºå®šæ ¼å¼çš„æ•°æ®

**æ­£ç¡®ç†è§£ï¼š** æ”¯æŒå¯é€‰ã€é‡å¤ã€æ‹©ä¸€ç­‰çµæ´»æ¨¡å¼
```wpl
opt(chars)                # å¯é€‰
kvarr                     # è‡ªåŠ¨è§£æKV
alt(ip, digit)            # æ‹©ä¸€
```

---

## ä¸‹ä¸€æ­¥

### å®æˆ˜åº”ç”¨
â†’ [03-practical-guide.md](./03-practical-guide.md) - æŒ‰ä»»åŠ¡æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ

**ä½ å°†å­¦åˆ°ï¼š**
- è§£æå„ç§ Web æœåŠ¡å™¨æ—¥å¿—
- å¤„ç† JSON å’Œ KV æ•°æ®
- ä½¿ç”¨é¢„å¤„ç†ç®¡é“
- å­—æ®µéªŒè¯ä¸è¿‡æ»¤
- å¤æ‚åœºæ™¯å¤„ç†

---

### æ·±å…¥å‚è€ƒ
â†’ [04-language-reference.md](./04-language-reference.md) - å®Œæ•´ç±»å‹å’Œè¯­æ³•
â†’ [05-functions-reference.md](./05-functions-reference.md) - æ‰€æœ‰å‡½æ•°è¯¦è§£

---

## ç›¸å…³èµ„æº

- å¿«é€Ÿå…¥é—¨ï¼š[01-quickstart.md](./01-quickstart.md)
- å®æˆ˜æŒ‡å—ï¼š[03-practical-guide.md](./03-practical-guide.md)
- è¯­è¨€å‚è€ƒï¼š[04-language-reference.md](./04-language-reference.md)
